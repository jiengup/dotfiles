- defaults:
    link:
      create: true
      relink: true

- clean: ['~']

- shell:
  - git submodule sync --recursive
  - git submodule update --init --recursive
  - git submodule update --init --remote
  - git clone https://github.com/tmux-plugins/tpm tmux/plugins/tpm
  - git clone https://github.com/tmux-plugins/tmux-resurrect tmux/plugins/tmux-recurrect
  - git clone https://github.com/VundleVim/Vundle.vim.git vim/bundle/Vundle.vim

- link:
    ~/.dotfiles: ''
    ~/.vim:
    ~/.vimrc:
    ~/.tmux:
    ~/.tmux.conf:
    ~/.scripts:
    ~/.duti:
    ~/.gvimrc:
    ~/.config/karabiner/karabiner.json:
      if: '[ "$(uname)" = "Darwin" ]'

- shell:
  - vim +PluginInstall +qall

- link:
    "$HOME/Library/Application Support/Code/User/settings.json":
      path: code/settings.json
      force: true
      create: false
    "$HOME/Library/Application Support/Code/User/keybindings.json":
      path: code/keybindings.json
      force: true
      create: false

    "$HOME/Library/Application Support/Cursor/User/settings.json":
      path: code/settings.json
      force: true
      create: false
    "$HOME/Library/Application Support/Cursor/User/keybindings.json":
      force: true
      path: code/keybindings.json
      create: false
